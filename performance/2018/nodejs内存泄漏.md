---
layout: page
title: nodejs内存泄漏
permalink: /performance/2018_10_17
---

### nodejs内存泄漏

#### 引起 nodejs 内存泄漏

- 全局变量需要进程退出才能释放
- 闭包引用中间函数，中间函数也不会释放，会使原始的作用域也不会释放，作用域不被释放它产生的内存占用也不会释放。所以使用过后重置为 Null 等待垃圾回收。
- 谨慎使用内存当做缓存，建议采用 redis 或者 memcached.
  - 好处：外部缓存软件有着良好的缓存过期淘汰策略以及自由的内存管理，不影响 Node 主进程的性能。
  - 减少内部常驻内存的对象数量，垃圾回收更高效率，进程间共享缓存
